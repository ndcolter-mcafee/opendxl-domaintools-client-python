
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Basic Hosting History Example &#8212; DomainTools API DXL Python Client Library 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Host Domains Example" href="basichostdomainsexample.html" />
    <link rel="prev" title="Basic Domain Suggestions Example" href="basicdomainsuggestionsexample.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="basichostdomainsexample.html" title="Basic Host Domains Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="basicdomainsuggestionsexample.html" title="Basic Domain Suggestions Example"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DomainTools API DXL Python Client Library 0.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="basic-hosting-history-example">
<h1>Basic Hosting History Example<a class="headerlink" href="#basic-hosting-history-example" title="Permalink to this headline">¶</a></h1>
<p>This sample invokes and displays the results of a DomainTools &quot;Hosting History&quot;
via DXL.</p>
<dl class="docutils">
<dt>For more information see:</dt>
<dd><a class="reference external" href="https://www.domaintools.com/resources/api-documentation/hosting-history/">https://www.domaintools.com/resources/api-documentation/hosting-history/</a></dd>
</dl>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The samples configuration step has been completed (see <a class="reference internal" href="sampleconfig.html"><span class="doc">Samples Configuration</span></a>)</li>
<li>The DomainTools API DXL service is running (see <a class="reference external" href="https://github.com/opendxl/opendxl-domaintools-service-python">DomainTools API DXL Service</a>)</li>
</ul>
</div>
<div class="section" id="running">
<h2>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h2>
<p>To run this sample execute the <code class="docutils literal notranslate"><span class="pre">sample/basic/basic_hosting_history_example.py</span></code> script as follows:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">sample</span><span class="o">/</span><span class="n">basic</span><span class="o">/</span><span class="n">basic_hosting_history_example</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div></blockquote>
<p>The output should appear similar to the following:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;domain_name&quot;</span><span class="p">:</span> <span class="s2">&quot;domaintools.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ip_history&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span>
                <span class="nt">&quot;action_in_words&quot;</span><span class="p">:</span> <span class="s2">&quot;New&quot;</span><span class="p">,</span>
                <span class="nt">&quot;actiondate&quot;</span><span class="p">:</span> <span class="s2">&quot;2004-05-03&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;post_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;63.247.77.156&quot;</span><span class="p">,</span>
                <span class="nt">&quot;pre_ip&quot;</span><span class="p">:</span> <span class="kc">null</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
                <span class="nt">&quot;action_in_words&quot;</span><span class="p">:</span> <span class="s2">&quot;Change&quot;</span><span class="p">,</span>
                <span class="nt">&quot;actiondate&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-04-02&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;post_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;199.30.228.112&quot;</span><span class="p">,</span>
                <span class="nt">&quot;pre_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;8.247.70.160&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;nameserver_history&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span>
                <span class="nt">&quot;action_in_words&quot;</span><span class="p">:</span> <span class="s2">&quot;Transfer&quot;</span><span class="p">,</span>
                <span class="nt">&quot;actiondate&quot;</span><span class="p">:</span> <span class="s2">&quot;2002-04-14&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;post_mns&quot;</span><span class="p">:</span> <span class="s2">&quot;Xxxnameservers.com&quot;</span><span class="p">,</span>
                <span class="nt">&quot;pre_mns&quot;</span><span class="p">:</span> <span class="s2">&quot;Interland.net&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span>
                <span class="nt">&quot;action_in_words&quot;</span><span class="p">:</span> <span class="s2">&quot;Transfer&quot;</span><span class="p">,</span>
                <span class="nt">&quot;actiondate&quot;</span><span class="p">:</span> <span class="s2">&quot;2004-11-25&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;post_mns&quot;</span><span class="p">:</span> <span class="s2">&quot;Host.org&quot;</span><span class="p">,</span>
                <span class="nt">&quot;pre_mns&quot;</span><span class="p">:</span> <span class="s2">&quot;Xxxnameservers.com&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;registrar_history&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;date_created&quot;</span><span class="p">:</span> <span class="s2">&quot;1998-08-02&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_expires&quot;</span><span class="p">:</span> <span class="s2">&quot;2003-08-01&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_lastchecked&quot;</span><span class="p">:</span> <span class="s2">&quot;2003-06-28&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2002-04-12&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;registrar&quot;</span><span class="p">:</span> <span class="s2">&quot;Tucows&quot;</span><span class="p">,</span>
                <span class="nt">&quot;registrartag&quot;</span><span class="p">:</span> <span class="s2">&quot;Tucows&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;date_created&quot;</span><span class="p">:</span> <span class="s2">&quot;1998-08-02&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_expires&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-08-01&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_lastchecked&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-08-15&quot;</span><span class="p">,</span>
                <span class="nt">&quot;date_updated&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-07-24&quot;</span><span class="p">,</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;DOMAINTOOLS.COM&quot;</span><span class="p">,</span>
                <span class="nt">&quot;registrar&quot;</span><span class="p">:</span> <span class="s2">&quot;eNom.com&quot;</span><span class="p">,</span>
                <span class="nt">&quot;registrartag&quot;</span><span class="p">:</span> <span class="s2">&quot;ENOM, INC.&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>The received results are displayed.</p>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>The majority of the sample code is shown below:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the client</span>
<span class="k">with</span> <span class="n">DxlClient</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="k">as</span> <span class="n">dxl_client</span><span class="p">:</span>

    <span class="c1"># Connect to the fabric</span>
    <span class="n">dxl_client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connected to DXL fabric.&quot;</span><span class="p">)</span>

    <span class="c1"># Create client wrapper</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">DomainToolsApiClient</span><span class="p">(</span><span class="n">dxl_client</span><span class="p">)</span>

    <span class="c1"># Invoke &#39;hosting_history&#39; method on service</span>
    <span class="n">resp_dict</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">hosting_history</span><span class="p">(</span><span class="s2">&quot;domaintools.com&quot;</span><span class="p">)</span>

    <span class="c1"># Print out the response (convert dictionary to JSON for pretty printing)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Response:</span><span class="se">\n</span><span class="s2">{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">MessageUtils</span><span class="o">.</span><span class="n">dict_to_json</span><span class="p">(</span><span class="n">resp_dict</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">)))</span>
</pre></div>
</div>
</div></blockquote>
<p>Once a connection is established to the DXL fabric, a
<a class="reference internal" href="dxldomaintoolsclient.client.html#dxldomaintoolsclient.client.DomainToolsApiClient" title="dxldomaintoolsclient.client.DomainToolsApiClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">dxldomaintoolsclient.client.DomainToolsApiClient</span></code></a> instance is created
which will be used to invoke remote commands on the DomainTools API DXL
service.</p>
<p>Next, the
<a class="reference internal" href="dxldomaintoolsclient.client.html#dxldomaintoolsclient.client.DomainToolsApiClient.hosting_history" title="dxldomaintoolsclient.client.DomainToolsApiClient.hosting_history"><code class="xref py py-func docutils literal notranslate"><span class="pre">dxldomaintoolsclient.client.DomainToolsApiClient.hosting_history()</span></code></a>
method is invoked with a domain name.</p>
<p>The final step is to display the contents of the returned dictionary (<code class="docutils literal notranslate"><span class="pre">dict</span></code>)
which contains the results of the hosting history query.</p>
<p>From the DomainTools
<a class="reference external" href="https://www.domaintools.com/resources/api-documentation/hosting-history/">Hosting History documentation</a>:</p>
<blockquote>
<div><cite>&quot;The Hosting History API provides a list of changes that have occurred in
a Domain Name's registrar, IP address, and name servers. IP and name
server events include the value before and after the change and indicate
the type of action that triggered the event.&quot;</cite></div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Basic Hosting History Example</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#running">Running</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="basicdomainsuggestionsexample.html"
                        title="previous chapter">Basic Domain Suggestions Example</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="basichostdomainsexample.html"
                        title="next chapter">Basic Host Domains Example</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/basichostinghistoryexample.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="basichostdomainsexample.html" title="Basic Host Domains Example"
             >next</a> |</li>
        <li class="right" >
          <a href="basicdomainsuggestionsexample.html" title="Basic Domain Suggestions Example"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DomainTools API DXL Python Client Library 0.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, McAfee LLC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>